<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Echo Messages</title>
    <style>
        /* Ajoutez ici vos styles CSS */
        .message-box {
            border: 1px solid #ccc;
            margin: 10px;
            padding: 10px;
            height: 300px;
            overflow-y: auto;
        }
        .message-form {
            margin: 10px;
        }
        .pagination {
            margin: 10px;
        }
    </style>
</head>
<body>

<div class="message-box" id="messageContainer">
    <!-- Les messages seront chargés ici -->
</div>

<div class="pagination">
    <button onclick="loadPreviousPage()">Page Précédente</button>
    <button onclick="loadNextPage()">Page Suivante</button>
</div>

<div class="message-form">
    <input type="text" id="newMessage" placeholder="Tapez votre message ici">
    <button onclick="sendCurrentMessage()">Envoyer</button>
</div>

<script src="../js/amazon-cognito-identity.min.js"></script>
<script src="../js/app.js"></script>
<script>
    // Vos fonctions JavaScript iront ici
</script>

<script>
    // Script pour vérifier la connexion et rediriger si nécessaire
    getToken(token => {
        if (!token) {
            window.location.href = 'login.html'; // Assurez-vous que cette URL est correcte
        }
    });

    // Fonction pour envoyer le message actuel
    function sendCurrentMessage() {
        const messageInput = document.getElementById('newMessage');
        const message = messageInput.value.trim();
        if (message) {
            sendEchoMessage(message);
            messageInput.value = '';
        }
    }

    document.addEventListener('DOMContentLoaded', function () {
        if (document.getElementById('messageContainer')) {
            loadEchoMessages();
        }
    });
</script>

</body>
</html>
